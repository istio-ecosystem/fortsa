## String to partially override chart.fullname template (will maintain the release name)
##
# nameOverride: ""

## String to fully override chart.fullname template
##
# fullnameOverride: ""

## Fortsa controller options
##
fortsaOptions:
  ## Period between full reconciliations of all istio-sidecar-injector ConfigMaps.
  ## Use "0" to disable periodic reconciliation.
  reconcilePeriod: "10h"
  ## If true, log what would be done without annotating workloads.
  dryRun: false
  ## If true, require container image registry to match ConfigMap hub when detecting outdated pods.
  ## This is useful if something mutates the registry part of pod images
  compareHub: false
  ## Delay between restarting each workload (e.g. 5s). Use "0" for no delay.
  restartDelay: "10s"
  ## Wait for Istiod to read the updated ConfigMap before scanning (e.g. 10s). Use "0" to skip.
  istiodConfigReadDelay: "10s"
  ## Skip re-annotating a workload if it was annotated within this duration. Use "0" to disable.
  annotationCooldown: "5m"
  ## Comma-separated list of namespaces to skip when scanning pods for outdated sidecars.
  skipNamespaces: "kube-system,istio-system"

## Configure the controller manager deployment
##
manager:
  replicas: 1
  image:
    repository: "${__IMAGE_TAG_BASE__}"
    tag: "v${__VERSION__}"
    pullPolicy: IfNotPresent
  ## Arguments
  ##
  args:
    - --leader-elect
  ## Environment variables
  ##
  env: []
  ## Image pull secrets
  ##
  imagePullSecrets: []
  ## Pod-level security settings
  ##
  podSecurityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  ## Container-level security settings
  ##
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
  ## Resource limits and requests
  ##
  resources:
    limits:
      cpu: 500m
      memory: 128Mi
    requests:
      cpu: 10m
      memory: 64Mi
  ## Manager pod's affinity
  ##
  affinity: {}
  ## Manager pod's node selector
  ##
  nodeSelector: {}
  ## Manager pod's tolerations
  ##
  tolerations: []
## Controller metrics endpoint.
## Enable to expose /metrics endpoint with RBAC protection.
##
metrics:
  enable: true
  # Metrics server port
  port: 8443
## Cert-manager integration for TLS certificates.
## Required for webhook certificates and metrics endpoint certificates.
##
certManager:
  enable: false
## Prometheus ServiceMonitor for metrics scraping.
## Requires prometheus-operator to be installed in the cluster.
##
prometheus:
  enable: false
